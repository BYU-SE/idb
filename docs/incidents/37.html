
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Authentication Latency on DUO1 Deployment</title>
    <style>
      
body {
  font-family: Helvetica, sans-serif;
}
a, a:visited {
  color:#03e;
}
table {
  border-collapse: collapse;
}
td {
  border: 1px solid #ddd;
  vertical-align:top;
  text-align:left;
  padding:10px;
  line-height:150%;
}
blockquote {
  font-size:125%;
  padding:0px 20px;
  margin:20px 0px;
  border-left:1px solid #ddd;
}
tr.category td {
  font-weight:bold;
  background-color:#ffd;
}
tr.head {
  font-weight:bold;
}
p.footer {
  font-size:75%;
}

    </style>
  </head>
  <body>
  <h1>
    Authentication Latency on DUO1 Deployment
  </h1>
  
<blockquote>
  &ldquo;Once this problem was identified, these queues were flushed on each application server and things immediately began to stabilize. In hindsight, this is effectively what the software rollback did as part of the issue on August 20th, which is why the rollback solved that prior issue.&rdquo;
</blockquote>

<table>
  <tr>
    <td>
      Incident
    </td>
    <td>
      #37 at 
      <a href="../organizations.html#Duo">Duo</a> on 
      <a href="../years.html#2018">2018/08/29</a> 
    </td>
  </tr>
  <tr>
    <td>
      Full report
    </td>
    <td>
      <a href="https://status.duo.com/incidents/4w07bmvnt359">https://status.duo.com/incidents/4w07bmvnt359</a>
    </td>
  </tr>

  <tr>
    <td>
      How it happened
    </td>
    <td>
      A surge of inbound requests exceeded database capacity and were queued by the application. Even after the traffic subsided the queued requests prevented the database from recovering (ie, capacity was still exceeded).
    </td>
  </tr>
  <tr>
    <td>
      Architecture
    </td>
    <td>
      A fleet of application servers (running an authentication service) backed by a relational database.
    </td>
  </tr>
  <tr>
    <td>
      Technologies
    </td>
    <td>
      <a href="../technologies.html#"></a>
    </td>
  </tr>
  <tr>
    <td>
      Root cause
    </td>
    <td>
      Traffic exceeded database capacity; and a queuing strategy for failed database requests.
    </td>
  </tr>
  <tr>
    <td>
      Failure
    </td>
    <td>
      Database requests failed and were were queued on the application servers.
    </td>
  </tr>
  <tr>
    <td>
      Impact
    </td>
    <td>
      Increased authentication latency and intermittent request timeouts for all customer applications.
    </td>
  </tr>
  <tr>
    <td>
      Mitigation
    </td>
    <td>
      Application request queues were flushed.
    </td>
  </tr>
</table>

  </body>
</html>
