
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>RCM for NA14 Disruptions of Service - May 2016</title>
    <style>
      
body {
  font-family: Helvetica, sans-serif;
}
a, a:visited {
  color:#03e;
}
table {
  border-collapse: collapse;
}
td {
  border: 1px solid #ddd;
  vertical-align:top;
  text-align:left;
  padding:10px;
  line-height:150%;
}
blockquote {
  font-size:125%;
  padding:0px 20px;
  margin:20px 0px;
  border-left:1px solid #ddd;
}
tr.category td {
  font-weight:bold;
  background-color:#ffd;
}
tr.head {
  font-weight:bold;
}
p.footer {
  font-size:75%;
}

    </style>
  </head>
  <body>
  <h1>
    RCM for NA14 Disruptions of Service - May 2016
  </h1>
  
<blockquote>
  &ldquo;Each attempt to restore service resulted in errors or failures that prevented these approaches from continuing.&rdquo;
</blockquote>

<table>
  <tr>
    <td>
      Incident
    </td>
    <td>
      #7 at 
      <a href="../organizations.html#Salesforce">Salesforce</a> on 
      <a href="../years.html#2016">2016/05/09</a> 
    </td>
  </tr>
  <tr>
    <td>
      Full report
    </td>
    <td>
      <a href="https://help.salesforce.com/articleView?id=000315819&language=en_US&type=1&mode=1">https://help.salesforce.com/articleView?id=000315819&language=en_US&type=1&mode=1</a>
    </td>
  </tr>

  <tr>
    <td>
      How it happened
    </td>
    <td>
      Due to a failed circuit breaker, responders manually switched application instance from the primary to the secondary data center. The database in the secondary data center became corrupted due to a storage firmware defect triggered under high load (due to automatic processes associated with establishing the new primary database, and a backlog of traffic associated with the power related downtime) and the corruption was replicated to the secondary. Once the database was corrupted, the database cluster failed and could not be restarted and the latest available backup was from the previous day.
    </td>
  </tr>
  <tr>
    <td>
      Architecture
    </td>
    <td>
      Web application with primary and secondary data centers, depending on a database cluster
    </td>
  </tr>
  <tr>
    <td>
      Technologies
    </td>
    <td>
      <a href="../technologies.html#"></a>
    </td>
  </tr>
  <tr>
    <td>
      Root cause
    </td>
    <td>
      A circuit breaker failure (cause unknown); A firmware defect triggered under high load.
    </td>
  </tr>
  <tr>
    <td>
      Failure
    </td>
    <td>
      Database cluster was corrupted, failed and could not be restarted
    </td>
  </tr>
  <tr>
    <td>
      Impact
    </td>
    <td>
      Complete outage of service for 16 hours, plus some degraded service time
    </td>
  </tr>
  <tr>
    <td>
      Mitigation
    </td>
    <td>
      Restored database from most recent backup and manually replayed missing transactions (from redo log) until the database was needed for next day's peak traffic (leaving approximately 3.5 hours of logs not re-applied). Competing, inessential activities were halted.
    </td>
  </tr>
</table>

  </body>
</html>
